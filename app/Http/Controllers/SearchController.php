<?php

namespace App\Http\Controllers;

use App\modal\PhoneInfo;
use DB;

use Illuminate\Foundation\Bus\DispatchesJobs;
use Illuminate\Routing\Controller as BaseController;
use Illuminate\Foundation\Validation\ValidatesRequests;
use Illuminate\Foundation\Auth\Access\AuthorizesRequests;
use App\Http\Requests;
use Illuminate\Http\Request;


class SearchController extends Controller
{
	function index(Request $request) {

		$phoneNum = $request->get('phone');

		$users = DB::select('select * from phoneInfo WHERE phoneNum = ?', [$phoneNum]);
		foreach ($users as $user) {
			$phoneInfo = new PhoneInfo($user->money, $user->times, $user->mins);
		}
		if (!$users) {
			return [
				'msg' => 'fail',
			];
		}
		return [
			'msg' => 'success',
			'amount' => $phoneInfo->getNeedPayAmouont(),
			'times' => $phoneInfo->notPayTimes,
			'mins'  => $phoneInfo->mins,
			'lastYear' => $phoneInfo->lastYearAmount,
			'interest' => $phoneInfo->getInterest()
		];
//		$phoneInfo = new PhoneInfo(100, 9, -350);
//		DB::insert("INSERT INTO phoneInfo VALUES ('','15221592379', '160', '3', '100')");
//		var_dump(DB::select('select * from phoneInfo'));

//		return($users);
		return $phoneInfo->getNeedPayAmouont();
	}

	function test() {

		$jsonData = '{"test181": {"count": 0, "ownAmount": 1194, "time": 44284}, "test168": {"count": 14, "ownAmount": 0, "time": 22444}, "test169": {"count": 14, "ownAmount": 118, "time": 22444}, "test164": {"count": 0, "ownAmount": 942, "time": 22444}, "test165": {"count": 0, "ownAmount": 1000, "time": 22444}, "test166": {"count": 0, "ownAmount": -166, "time": 22444}, "test167": {"count": 0, "ownAmount": 1029, "time": 22444}, "test160": {"count": 11, "ownAmount": 1164, "time": 22444}, "test161": {"count": 0, "ownAmount": 0, "time": 22444}, "test162": {"count": 0, "ownAmount": 87, "time": 22444}, "test163": {"count": 0, "ownAmount": 605, "time": 22444}, "test308": {"count": -3, "ownAmount": 0, "time": -8814}, "test309": {"count": -3, "ownAmount": 218, "time": -8814}, "test300": {"count": 6, "ownAmount": 1141, "time": -8814}, "test301": {"count": 11, "ownAmount": 0, "time": -8814}, "test302": {"count": 11, "ownAmount": 32, "time": -8814}, "test303": {"count": 11, "ownAmount": 687, "time": -8814}, "test304": {"count": 11, "ownAmount": 997, "time": -8814}, "test305": {"count": 11, "ownAmount": 1000, "time": -8814}, "test306": {"count": 11, "ownAmount": -233, "time": -8814}, "test307": {"count": 11, "ownAmount": 1095, "time": -8814}, "test393": {"count": 3, "ownAmount": 0, "time": 151}, "test392": {"count": 3, "ownAmount": 0, "time": 68}, "test391": {"count": 3, "ownAmount": 0, "time": 4}, "test390": {"count": 2, "ownAmount": 254, "time": 407}, "test397": {"count": 3, "ownAmount": 244, "time": 64}, "test396": {"count": 3, "ownAmount": 244, "time": 60}, "test79": {"count": 0, "ownAmount": 509, "time": 3213}, "test78": {"count": 0, "ownAmount": 5, "time": 3213}, "test77": {"count": 0, "ownAmount": 0, "time": 3213}, "test76": {"count": 11, "ownAmount": 1098, "time": 0}, "test75": {"count": 11, "ownAmount": -103, "time": 0}, "test74": {"count": 11, "ownAmount": 1000, "time": 0}, "test73": {"count": 11, "ownAmount": 813, "time": 0}, "test72": {"count": 11, "ownAmount": 573, "time": 0}, "test71": {"count": 11, "ownAmount": 117, "time": 0}, "test70": {"count": 11, "ownAmount": 0, "time": 0}, "test234": {"count": 2, "ownAmount": 797, "time": 44640}, "test235": {"count": 2, "ownAmount": 1000, "time": 44640}, "test236": {"count": 2, "ownAmount": -214, "time": 44640}, "test237": {"count": 2, "ownAmount": 1065, "time": 44640}, "test230": {"count": 0, "ownAmount": 1153, "time": 44640}, "test231": {"count": 2, "ownAmount": 0, "time": 44640}, "test232": {"count": 2, "ownAmount": 66, "time": 44640}, "test233": {"count": 2, "ownAmount": 571, "time": 44640}, "test238": {"count": 5, "ownAmount": 0, "time": 44640}, "test239": {"count": 5, "ownAmount": 43, "time": 44640}, "test438": {"count": 7, "ownAmount": 891, "time": 162}, "test439": {"count": 7, "ownAmount": 891, "time": 223}, "test436": {"count": 7, "ownAmount": 891, "time": 47}, "test437": {"count": 7, "ownAmount": 891, "time": 76}, "test434": {"count": 7, "ownAmount": 0, "time": 189}, "test435": {"count": 7, "ownAmount": 0, "time": 712}, "test432": {"count": 7, "ownAmount": 0, "time": 96}, "test433": {"count": 7, "ownAmount": 0, "time": 173}, "test430": {"count": 6, "ownAmount": 648, "time": 998}, "test431": {"count": 7, "ownAmount": 0, "time": 33}, "test120": {"count": 11, "ownAmount": 155, "time": 3213}, "test121": {"count": 11, "ownAmount": 690, "time": 3213}, "test122": {"count": 11, "ownAmount": 949, "time": 3213}, "test123": {"count": 11, "ownAmount": 1000, "time": 3213}, "test124": {"count": 11, "ownAmount": -105, "time": 3213}, "test125": {"count": 11, "ownAmount": 1097, "time": 3213}, "test126": {"count": 0, "ownAmount": 0, "time": 22444}, "test127": {"count": 0, "ownAmount": 220, "time": 22444}, "test128": {"count": 0, "ownAmount": 728, "time": 22444}, "test129": {"count": 0, "ownAmount": 873, "time": 22444}, "test350": {"count": 11, "ownAmount": 0, "time": 45697}, "test359": {"count": -2, "ownAmount": 509, "time": 45697}, "test358": {"count": -2, "ownAmount": 237, "time": 45697}, "test195": {"count": 8, "ownAmount": 1078, "time": 44284}, "test194": {"count": 8, "ownAmount": -95, "time": 44284}, "test197": {"count": 8, "ownAmount": 16, "time": 44284}, "test196": {"count": 8, "ownAmount": 0, "time": 44284}, "test191": {"count": 8, "ownAmount": 678, "time": 44284}, "test190": {"count": 8, "ownAmount": 211, "time": 44284}, "test193": {"count": 8, "ownAmount": 1000, "time": 44284}, "test192": {"count": 8, "ownAmount": 892, "time": 44284}, "test199": {"count": 8, "ownAmount": 798, "time": 44284}, "test198": {"count": 8, "ownAmount": 566, "time": 44284}, "test33": {"count": 0, "ownAmount": -134, "time": 0}, "test32": {"count": 0, "ownAmount": 1000, "time": 0}, "test31": {"count": 0, "ownAmount": 996, "time": 0}, "test30": {"count": 0, "ownAmount": 579, "time": 0}, "test37": {"count": 3, "ownAmount": 651, "time": 0}, "test36": {"count": 3, "ownAmount": 154, "time": 0}, "test35": {"count": 3, "ownAmount": 0, "time": 0}, "test34": {"count": 0, "ownAmount": 1224, "time": 0}, "test39": {"count": 3, "ownAmount": 1000, "time": 0}, "test38": {"count": 3, "ownAmount": 952, "time": 0}, "test278": {"count": 0, "ownAmount": -209, "time": -8814}, "test279": {"count": 0, "ownAmount": 1119, "time": -8814}, "test373": {"count": 1, "ownAmount": 0, "time": 142}, "test372": {"count": 1, "ownAmount": 0, "time": 68}, "test375": {"count": 1, "ownAmount": 0, "time": 374}, "test374": {"count": 1, "ownAmount": 0, "time": 289}, "test377": {"count": 1, "ownAmount": 62, "time": 91}, "test376": {"count": 1, "ownAmount": 62, "time": 16}, "test270": {"count": 13, "ownAmount": 1000, "time": 44640}, "test271": {"count": 13, "ownAmount": -23, "time": 44640}, "test272": {"count": 13, "ownAmount": 1044, "time": 44640}, "test273": {"count": 0, "ownAmount": 0, "time": -8814}, "test274": {"count": 0, "ownAmount": 170, "time": -8814}, "test275": {"count": 0, "ownAmount": 576, "time": -8814}, "test276": {"count": 0, "ownAmount": 831, "time": -8814}, "test277": {"count": 0, "ownAmount": 1000, "time": -8814}, "test46": {"count": 5, "ownAmount": 1000, "time": 0}, "test47": {"count": 5, "ownAmount": -212, "time": 0}, "test44": {"count": 5, "ownAmount": 718, "time": 0}, "test45": {"count": 5, "ownAmount": 838, "time": 0}, "test42": {"count": 5, "ownAmount": 0, "time": 0}, "test43": {"count": 5, "ownAmount": 120, "time": 0}, "test40": {"count": 3, "ownAmount": -113, "time": 0}, "test41": {"count": 3, "ownAmount": 1041, "time": 0}, "test48": {"count": 5, "ownAmount": 1158, "time": 0}, "test49": {"count": 9, "ownAmount": 0, "time": 0}, "test407": {"count": 4, "ownAmount": 239, "time": 114}, "test406": {"count": 4, "ownAmount": 239, "time": 28}, "test405": {"count": 4, "ownAmount": 0, "time": 972}, "test404": {"count": 4, "ownAmount": 0, "time": 270}, "test403": {"count": 4, "ownAmount": 0, "time": 168}, "test402": {"count": 4, "ownAmount": 0, "time": 74}, "test401": {"count": 4, "ownAmount": 0, "time": 54}, "test400": {"count": 3, "ownAmount": 244, "time": 433}, "test409": {"count": 4, "ownAmount": 239, "time": 280}, "test408": {"count": 4, "ownAmount": 239, "time": 132}, "test159": {"count": 11, "ownAmount": -9, "time": 22444}, "test158": {"count": 11, "ownAmount": 1000, "time": 22444}, "test151": {"count": 6, "ownAmount": 1000, "time": 22444}, "test150": {"count": 6, "ownAmount": 964, "time": 22444}, "test153": {"count": 6, "ownAmount": 1173, "time": 22444}, "test152": {"count": 6, "ownAmount": -116, "time": 22444}, "test155": {"count": 11, "ownAmount": 128, "time": 22444}, "test154": {"count": 11, "ownAmount": 0, "time": 22444}, "test157": {"count": 11, "ownAmount": 957, "time": 22444}, "test156": {"count": 11, "ownAmount": 524, "time": 22444}, "test428": {"count": 6, "ownAmount": 648, "time": 171}, "test335": {"count": 0, "ownAmount": 1191, "time": 45697}, "test334": {"count": 0, "ownAmount": -174, "time": 45697}, "test337": {"count": 8, "ownAmount": 77, "time": 45697}, "test336": {"count": 8, "ownAmount": 0, "time": 45697}, "test331": {"count": 0, "ownAmount": 519, "time": 45697}, "test330": {"count": 0, "ownAmount": 74, "time": 45697}, "test333": {"count": 0, "ownAmount": 1000, "time": 45697}, "test332": {"count": 0, "ownAmount": 851, "time": 45697}, "test339": {"count": 8, "ownAmount": 834, "time": 45697}, "test338": {"count": 8, "ownAmount": 670, "time": 45697}, "test380": {"count": 1, "ownAmount": 62, "time": 886}, "test381": {"count": 2, "ownAmount": 0, "time": 53}, "test382": {"count": 2, "ownAmount": 0, "time": 65}, "test383": {"count": 2, "ownAmount": 0, "time": 168}, "test384": {"count": 2, "ownAmount": 0, "time": 183}, "test385": {"count": 2, "ownAmount": 0, "time": 539}, "test386": {"count": 2, "ownAmount": 254, "time": 60}, "test387": {"count": 2, "ownAmount": 254, "time": 111}, "test388": {"count": 2, "ownAmount": 254, "time": 158}, "test389": {"count": 2, "ownAmount": 254, "time": 211}, "test201": {"count": 8, "ownAmount": -31, "time": 44284}, "test200": {"count": 8, "ownAmount": 1000, "time": 44284}, "test203": {"count": 11, "ownAmount": 0, "time": 44284}, "test202": {"count": 8, "ownAmount": 1231, "time": 44284}, "test205": {"count": 11, "ownAmount": 708, "time": 44284}, "test204": {"count": 11, "ownAmount": 217, "time": 44284}, "test207": {"count": 11, "ownAmount": 1000, "time": 44284}, "test206": {"count": 11, "ownAmount": 836, "time": 44284}, "test209": {"count": 11, "ownAmount": 1126, "time": 44284}, "test208": {"count": 11, "ownAmount": -184, "time": 44284}, "test441": {"count": null, "ownAmount": null, "time": null}, "test440": {"count": 7, "ownAmount": 891, "time": 668}, "test119": {"count": 11, "ownAmount": 0, "time": 3213}, "test118": {"count": -2, "ownAmount": 1152, "time": 3213}, "test115": {"count": -2, "ownAmount": 799, "time": 3213}, "test114": {"count": -2, "ownAmount": 543, "time": 3213}, "test117": {"count": -2, "ownAmount": -33, "time": 3213}, "test116": {"count": -2, "ownAmount": 1000, "time": 3213}, "test111": {"count": 11, "ownAmount": 1179, "time": 3213}, "test110": {"count": 11, "ownAmount": -221, "time": 3213}, "test113": {"count": -2, "ownAmount": 189, "time": 3213}, "test112": {"count": -2, "ownAmount": 0, "time": 3213}, "test108": {"count": 11, "ownAmount": 913, "time": 3213}, "test182": {"count": 0, "ownAmount": 0, "time": 44284}, "test183": {"count": 0, "ownAmount": 110, "time": 44284}, "test180": {"count": 0, "ownAmount": -209, "time": 44284}, "test109": {"count": 11, "ownAmount": 1000, "time": 3213}, "test186": {"count": 0, "ownAmount": 1000, "time": 44284}, "test187": {"count": 0, "ownAmount": -35, "time": 44284}, "test184": {"count": 0, "ownAmount": 662, "time": 44284}, "test185": {"count": 0, "ownAmount": 934, "time": 44284}, "test188": {"count": 0, "ownAmount": 1108, "time": 44284}, "test189": {"count": 8, "ownAmount": 0, "time": 44284}, "test351": {"count": 11, "ownAmount": 129, "time": 45697}, "test102": {"count": 10, "ownAmount": 1000, "time": 3213}, "test103": {"count": 10, "ownAmount": -42, "time": 3213}, "test245": {"count": 7, "ownAmount": 0, "time": 44640}, "test244": {"count": 5, "ownAmount": 1195, "time": 44640}, "test247": {"count": 7, "ownAmount": 689, "time": 44640}, "test246": {"count": 7, "ownAmount": 32, "time": 44640}, "test241": {"count": 5, "ownAmount": 947, "time": 44640}, "test240": {"count": 5, "ownAmount": 566, "time": 44640}, "test243": {"count": 5, "ownAmount": -247, "time": 44640}, "test242": {"count": 5, "ownAmount": 1000, "time": 44640}, "test249": {"count": 7, "ownAmount": 1000, "time": 44640}, "test248": {"count": 7, "ownAmount": 825, "time": 44640}, "test368": {"count": 12, "ownAmount": 1000, "time": 45697}, "test369": {"count": 12, "ownAmount": -109, "time": 45697}, "test366": {"count": 12, "ownAmount": 669, "time": 45697}, "test367": {"count": 12, "ownAmount": 912, "time": 45697}, "test364": {"count": 12, "ownAmount": 0, "time": 45697}, "test365": {"count": 12, "ownAmount": 242, "time": 45697}, "test362": {"count": -2, "ownAmount": -15, "time": 45697}, "test363": {"count": -2, "ownAmount": 1168, "time": 45697}, "test360": {"count": -2, "ownAmount": 982, "time": 45697}, "test361": {"count": -2, "ownAmount": 1000, "time": 45697}, "test371": {"count": 1, "ownAmount": 0, "time": 49}, "test370": {"count": 12, "ownAmount": 1090, "time": 45697}, "test55": {"count": 9, "ownAmount": 1167, "time": 0}, "test54": {"count": 9, "ownAmount": -106, "time": 0}, "test57": {"count": 11, "ownAmount": 93, "time": 0}, "test56": {"count": 11, "ownAmount": 0, "time": 0}, "test51": {"count": 9, "ownAmount": 669, "time": 0}, "test50": {"count": 9, "ownAmount": 18, "time": 0}, "test53": {"count": 9, "ownAmount": 1000, "time": 0}, "test52": {"count": 9, "ownAmount": 909, "time": 0}, "test59": {"count": 11, "ownAmount": 981, "time": 0}, "test58": {"count": 11, "ownAmount": 722, "time": 0}, "test379": {"count": 1, "ownAmount": 62, "time": 277}, "test378": {"count": 1, "ownAmount": 62, "time": 135}, "test414": {"count": 5, "ownAmount": 0, "time": 202}, "test415": {"count": 5, "ownAmount": 0, "time": 346}, "test416": {"count": 5, "ownAmount": 416, "time": 27}, "test417": {"count": 5, "ownAmount": 416, "time": 120}, "test410": {"count": 4, "ownAmount": 239, "time": 341}, "test411": {"count": 5, "ownAmount": 0, "time": 56}, "test412": {"count": 5, "ownAmount": 0, "time": 94}, "test413": {"count": 5, "ownAmount": 0, "time": 158}, "test418": {"count": 5, "ownAmount": 416, "time": 161}, "test419": {"count": 5, "ownAmount": 416, "time": 211}, "test146": {"count": 6, "ownAmount": 1159, "time": 22444}, "test147": {"count": 6, "ownAmount": 0, "time": 22444}, "test144": {"count": 6, "ownAmount": 1000, "time": 22444}, "test145": {"count": 6, "ownAmount": -186, "time": 22444}, "test142": {"count": 6, "ownAmount": 513, "time": 22444}, "test143": {"count": 6, "ownAmount": 817, "time": 22444}, "test140": {"count": 6, "ownAmount": 0, "time": 22444}, "test141": {"count": 6, "ownAmount": 79, "time": 22444}, "test148": {"count": 6, "ownAmount": 93, "time": 22444}, "test149": {"count": 6, "ownAmount": 616, "time": 22444}, "test82": {"count": 0, "ownAmount": -210, "time": 3213}, "test83": {"count": 0, "ownAmount": 1246, "time": 3213}, "test80": {"count": 0, "ownAmount": 755, "time": 3213}, "test81": {"count": 0, "ownAmount": 1000, "time": 3213}, "test86": {"count": 2, "ownAmount": 603, "time": 3213}, "test87": {"count": 2, "ownAmount": 800, "time": 3213}, "test84": {"count": 2, "ownAmount": 0, "time": 3213}, "test85": {"count": 2, "ownAmount": 120, "time": 3213}, "test88": {"count": 2, "ownAmount": 1000, "time": 3213}, "test89": {"count": 2, "ownAmount": -159, "time": 3213}, "test289": {"count": 6, "ownAmount": 630, "time": -8814}, "test288": {"count": 6, "ownAmount": 27, "time": -8814}, "test320": {"count": 13, "ownAmount": -38, "time": -8814}, "test321": {"count": 13, "ownAmount": 1185, "time": -8814}, "test326": {"count": 0, "ownAmount": 1000, "time": 45697}, "test327": {"count": 0, "ownAmount": -238, "time": 45697}, "test324": {"count": 0, "ownAmount": 623, "time": 45697}, "test325": {"count": 0, "ownAmount": 929, "time": 45697}, "test281": {"count": 0, "ownAmount": 142, "time": -8814}, "test280": {"count": 0, "ownAmount": 0, "time": -8814}, "test328": {"count": 0, "ownAmount": 1204, "time": 45697}, "test282": {"count": 0, "ownAmount": 610, "time": -8814}, "test285": {"count": 0, "ownAmount": -207, "time": -8814}, "test284": {"count": 0, "ownAmount": 1000, "time": -8814}, "test287": {"count": 6, "ownAmount": 0, "time": -8814}, "test286": {"count": 0, "ownAmount": 1173, "time": -8814}, "test19": {"count": -1, "ownAmount": 0, "time": 44640}, "test18": {"count": 14, "ownAmount": 1000, "time": 22320}, "test11": {"count": -3, "ownAmount": 500, "time": 22320}, "test10": {"count": -3, "ownAmount": 0, "time": 22320}, "test13": {"count": 9, "ownAmount": 0, "time": 22320}, "test12": {"count": -3, "ownAmount": 1000, "time": 22320}, "test15": {"count": 9, "ownAmount": 1000, "time": 22320}, "test14": {"count": 9, "ownAmount": 500, "time": 22320}, "test17": {"count": 14, "ownAmount": 500, "time": 22320}, "test16": {"count": 14, "ownAmount": 0, "time": 22320}, "test357": {"count": -2, "ownAmount": 0, "time": 45697}, "test356": {"count": 11, "ownAmount": 1184, "time": 45697}, "test355": {"count": 11, "ownAmount": -97, "time": 45697}, "test354": {"count": 11, "ownAmount": 1000, "time": 45697}, "test353": {"count": 11, "ownAmount": 939, "time": 45697}, "test352": {"count": 11, "ownAmount": 644, "time": 45697}, "test218": {"count": 14, "ownAmount": 112, "time": 44284}, "test219": {"count": 14, "ownAmount": 510, "time": 44284}, "test216": {"count": -2, "ownAmount": 1148, "time": 44284}, "test217": {"count": 14, "ownAmount": 0, "time": 44284}, "test214": {"count": -2, "ownAmount": 1000, "time": 44284}, "test215": {"count": -2, "ownAmount": -168, "time": 44284}, "test212": {"count": -2, "ownAmount": 502, "time": 44284}, "test213": {"count": -2, "ownAmount": 810, "time": 44284}, "test210": {"count": -2, "ownAmount": 0, "time": 44284}, "test211": {"count": -2, "ownAmount": 119, "time": 44284}, "test395": {"count": 3, "ownAmount": 0, "time": 575}, "test394": {"count": 3, "ownAmount": 0, "time": 257}, "test399": {"count": 3, "ownAmount": 244, "time": 191}, "test398": {"count": 3, "ownAmount": 244, "time": 156}, "test1": {"count": 0, "ownAmount": 0, "time": 0}, "test3": {"count": 0, "ownAmount": 1000, "time": 0}, "test2": {"count": 0, "ownAmount": 500, "time": 0}, "test5": {"count": 8, "ownAmount": 500, "time": 0}, "test4": {"count": 8, "ownAmount": 0, "time": 0}, "test7": {"count": 15, "ownAmount": 0, "time": 0}, "test6": {"count": 8, "ownAmount": 1000, "time": 0}, "test9": {"count": 15, "ownAmount": 1000, "time": 0}, "test8": {"count": 15, "ownAmount": 500, "time": 0}, "test100": {"count": 10, "ownAmount": 598, "time": 3213}, "test101": {"count": 10, "ownAmount": 920, "time": 3213}, "test106": {"count": 11, "ownAmount": 215, "time": 3213}, "test107": {"count": 11, "ownAmount": 506, "time": 3213}, "test104": {"count": 10, "ownAmount": 1062, "time": 3213}, "test105": {"count": 11, "ownAmount": 0, "time": 3213}, "test179": {"count": 0, "ownAmount": 1000, "time": 44284}, "test178": {"count": 0, "ownAmount": 958, "time": 44284}, "test177": {"count": 0, "ownAmount": 651, "time": 44284}, "test176": {"count": 0, "ownAmount": 12, "time": 44284}, "test175": {"count": 0, "ownAmount": 0, "time": 44284}, "test174": {"count": 14, "ownAmount": 1061, "time": 22444}, "test173": {"count": 14, "ownAmount": -27, "time": 22444}, "test172": {"count": 14, "ownAmount": 1000, "time": 22444}, "test171": {"count": 14, "ownAmount": 893, "time": 22444}, "test170": {"count": 14, "ownAmount": 744, "time": 22444}, "test252": {"count": 11, "ownAmount": 0, "time": 44640}, "test253": {"count": 11, "ownAmount": 138, "time": 44640}, "test250": {"count": 7, "ownAmount": -212, "time": 44640}, "test251": {"count": 7, "ownAmount": 1047, "time": 44640}, "test256": {"count": 11, "ownAmount": 1000, "time": 44640}, "test257": {"count": 11, "ownAmount": -110, "time": 44640}, "test254": {"count": 11, "ownAmount": 567, "time": 44640}, "test255": {"count": 11, "ownAmount": 948, "time": 44640}, "test258": {"count": 11, "ownAmount": 1153, "time": 44640}, "test259": {"count": 0, "ownAmount": 0, "time": 44640}, "test319": {"count": 13, "ownAmount": 1000, "time": -8814}, "test318": {"count": 13, "ownAmount": 824, "time": -8814}, "test313": {"count": -3, "ownAmount": -173, "time": -8814}, "test312": {"count": -3, "ownAmount": 1000, "time": -8814}, "test311": {"count": -3, "ownAmount": 920, "time": -8814}, "test310": {"count": -3, "ownAmount": 600, "time": -8814}, "test317": {"count": 13, "ownAmount": 514, "time": -8814}, "test316": {"count": 13, "ownAmount": 227, "time": -8814}, "test315": {"count": 13, "ownAmount": 0, "time": -8814}, "test314": {"count": -3, "ownAmount": 1010, "time": -8814}, "test60": {"count": 11, "ownAmount": 1000, "time": 0}, "test61": {"count": 11, "ownAmount": -151, "time": 0}, "test62": {"count": 11, "ownAmount": 1195, "time": 0}, "test63": {"count": 0, "ownAmount": 0, "time": 0}, "test64": {"count": 0, "ownAmount": 139, "time": 0}, "test65": {"count": 0, "ownAmount": 532, "time": 0}, "test66": {"count": 0, "ownAmount": 832, "time": 0}, "test67": {"count": 0, "ownAmount": 1000, "time": 0}, "test68": {"count": 0, "ownAmount": -83, "time": 0}, "test69": {"count": 0, "ownAmount": 1240, "time": 0}, "test227": {"count": 0, "ownAmount": 780, "time": 44640}, "test226": {"count": 0, "ownAmount": 649, "time": 44640}, "test225": {"count": 0, "ownAmount": 117, "time": 44640}, "test224": {"count": 0, "ownAmount": 0, "time": 44640}, "test223": {"count": 14, "ownAmount": 1083, "time": 44284}, "test222": {"count": 14, "ownAmount": -54, "time": 44284}, "test221": {"count": 14, "ownAmount": 1000, "time": 44284}, "test220": {"count": 14, "ownAmount": 919, "time": 44284}, "test229": {"count": 0, "ownAmount": -132, "time": 44640}, "test228": {"count": 0, "ownAmount": 1000, "time": 44640}, "test346": {"count": 10, "ownAmount": 803, "time": 45697}, "test347": {"count": 10, "ownAmount": 1000, "time": 45697}, "test421": {"count": 6, "ownAmount": 0, "time": 48}, "test420": {"count": 5, "ownAmount": 416, "time": 792}, "test423": {"count": 6, "ownAmount": 0, "time": 128}, "test422": {"count": 6, "ownAmount": 0, "time": 65}, "test425": {"count": 6, "ownAmount": 0, "time": 767}, "test424": {"count": 6, "ownAmount": 0, "time": 240}, "test427": {"count": 6, "ownAmount": 648, "time": 60}, "test426": {"count": 6, "ownAmount": 648, "time": 16}, "test429": {"count": 6, "ownAmount": 648, "time": 186}, "test348": {"count": 10, "ownAmount": -182, "time": 45697}, "test349": {"count": 10, "ownAmount": 1118, "time": 45697}, "test133": {"count": 1, "ownAmount": 0, "time": 22444}, "test132": {"count": 0, "ownAmount": 1227, "time": 22444}, "test131": {"count": 0, "ownAmount": -112, "time": 22444}, "test130": {"count": 0, "ownAmount": 1000, "time": 22444}, "test137": {"count": 1, "ownAmount": 1000, "time": 22444}, "test136": {"count": 1, "ownAmount": 814, "time": 22444}, "test135": {"count": 1, "ownAmount": 678, "time": 22444}, "test134": {"count": 1, "ownAmount": 23, "time": 22444}, "test139": {"count": 1, "ownAmount": 1143, "time": 22444}, "test138": {"count": 1, "ownAmount": -223, "time": 22444}, "test91": {"count": 7, "ownAmount": 0, "time": 3213}, "test90": {"count": 2, "ownAmount": 1138, "time": 3213}, "test93": {"count": 7, "ownAmount": 719, "time": 3213}, "test92": {"count": 7, "ownAmount": 61, "time": 3213}, "test95": {"count": 7, "ownAmount": 1000, "time": 3213}, "test94": {"count": 7, "ownAmount": 829, "time": 3213}, "test97": {"count": 7, "ownAmount": 1071, "time": 3213}, "test96": {"count": 7, "ownAmount": -121, "time": 3213}, "test99": {"count": 10, "ownAmount": 145, "time": 3213}, "test98": {"count": 10, "ownAmount": 0, "time": 3213}, "test322": {"count": 0, "ownAmount": 0, "time": 45697}, "test323": {"count": 0, "ownAmount": 111, "time": 45697}, "test24": {"count": 9, "ownAmount": 1000, "time": 44640}, "test25": {"count": 15, "ownAmount": 0, "time": 44640}, "test26": {"count": 15, "ownAmount": 500, "time": 44640}, "test27": {"count": 15, "ownAmount": 1000, "time": 44640}, "test20": {"count": -1, "ownAmount": 500, "time": 44640}, "test21": {"count": -1, "ownAmount": 1000, "time": 44640}, "test22": {"count": 9, "ownAmount": 0, "time": 44640}, "test23": {"count": 9, "ownAmount": 500, "time": 44640}, "test28": {"count": 0, "ownAmount": 0, "time": 0}, "test29": {"count": 0, "ownAmount": 102, "time": 0}, "test283": {"count": 0, "ownAmount": 837, "time": -8814}, "test329": {"count": 0, "ownAmount": 0, "time": 45697}, "test344": {"count": 10, "ownAmount": 54, "time": 45697}, "test345": {"count": 10, "ownAmount": 720, "time": 45697}, "test269": {"count": 13, "ownAmount": 764, "time": 44640}, "test268": {"count": 13, "ownAmount": 662, "time": 44640}, "test340": {"count": 8, "ownAmount": 1000, "time": 45697}, "test341": {"count": 8, "ownAmount": -87, "time": 45697}, "test342": {"count": 8, "ownAmount": 1146, "time": 45697}, "test343": {"count": 10, "ownAmount": 0, "time": 45697}, "test263": {"count": 0, "ownAmount": 1000, "time": 44640}, "test262": {"count": 0, "ownAmount": 921, "time": 44640}, "test261": {"count": 0, "ownAmount": 681, "time": 44640}, "test260": {"count": 0, "ownAmount": 21, "time": 44640}, "test267": {"count": 13, "ownAmount": 205, "time": 44640}, "test266": {"count": 13, "ownAmount": 0, "time": 44640}, "test265": {"count": 0, "ownAmount": 1175, "time": 44640}, "test264": {"count": 0, "ownAmount": -118, "time": 44640}, "test296": {"count": 6, "ownAmount": 623, "time": -8814}, "test297": {"count": 6, "ownAmount": 937, "time": -8814}, "test294": {"count": 6, "ownAmount": 0, "time": -8814}, "test295": {"count": 6, "ownAmount": 231, "time": -8814}, "test292": {"count": 6, "ownAmount": -42, "time": -8814}, "test293": {"count": 6, "ownAmount": 1020, "time": -8814}, "test290": {"count": 6, "ownAmount": 963, "time": -8814}, "test291": {"count": 6, "ownAmount": 1000, "time": -8814}, "test298": {"count": 6, "ownAmount": 1000, "time": -8814}, "test299": {"count": 6, "ownAmount": -38, "time": -8814}}';

		return view('phone_test');
	}

	function getData() {

		$jsonData = '{"0": {"count": 1, "ownAmount": 494, "time": 55}, "1": {"count": 2, "ownAmount": 840, "time": 55}, "2": {"count": 3, "ownAmount": 227, "time": 55}, "3": {"count": 4, "ownAmount": 618, "time": 55}, "4": {"count": 5, "ownAmount": 261, "time": 55}, "5": {"count": 6, "ownAmount": 922, "time": 55}, "6": {"count": 7, "ownAmount": 148, "time": 55}, "7": {"count": 1, "ownAmount": 462, "time": 107}, "8": {"count": 2, "ownAmount": 802, "time": 107}, "9": {"count": 3, "ownAmount": 550, "time": 107}, "10": {"count": 4, "ownAmount": 560, "time": 107}, "11": {"count": 5, "ownAmount": 141, "time": 107}, "12": {"count": 6, "ownAmount": 237, "time": 107}, "13": {"count": 7, "ownAmount": 845, "time": 107}, "14": {"count": 1, "ownAmount": 824, "time": 173}, "15": {"count": 2, "ownAmount": 642, "time": 173}, "16": {"count": 3, "ownAmount": 110, "time": 173}, "17": {"count": 4, "ownAmount": 750, "time": 173}, "18": {"count": 5, "ownAmount": 135, "time": 173}, "19": {"count": 6, "ownAmount": 226, "time": 173}, "20": {"count": 7, "ownAmount": 927, "time": 173}, "21": {"count": 1, "ownAmount": 452, "time": 222}, "22": {"count": 2, "ownAmount": 764, "time": 222}, "23": {"count": 3, "ownAmount": 243, "time": 222}, "24": {"count": 4, "ownAmount": 261, "time": 222}, "25": {"count": 5, "ownAmount": 375, "time": 222}, "26": {"count": 6, "ownAmount": 413, "time": 222}, "27": {"count": 7, "ownAmount": 704, "time": 222}, "28": {"count": 1, "ownAmount": 400, "time": 292}, "29": {"count": 2, "ownAmount": 403, "time": 292}, "30": {"count": 3, "ownAmount": 343, "time": 292}, "31": {"count": 4, "ownAmount": 76, "time": 292}, "32": {"count": 5, "ownAmount": 638, "time": 292}, "33": {"count": 6, "ownAmount": 966, "time": 292}, "34": {"count": 7, "ownAmount": 528, "time": 292}, "35": {"count": 0, "ownAmount": 0, "time": 0}, "36": {"count": 0, "ownAmount": 150, "time": 0}, "37": {"count": 0, "ownAmount": 593, "time": 0}, "38": {"count": 0, "ownAmount": 936, "time": 0}, "39": {"count": 0, "ownAmount": 1000, "time": 0}, "40": {"count": 0, "ownAmount": -119, "time": 0}, "41": {"count": 0, "ownAmount": 1194, "time": 0}, "42": {"count": 4, "ownAmount": 0, "time": 0}, "43": {"count": 4, "ownAmount": 17, "time": 0}, "44": {"count": 4, "ownAmount": 616, "time": 0}, "45": {"count": 4, "ownAmount": 762, "time": 0}, "46": {"count": 4, "ownAmount": 1000, "time": 0}, "47": {"count": 4, "ownAmount": -183, "time": 0}, "48": {"count": 4, "ownAmount": 1001, "time": 0}, "49": {"count": 5, "ownAmount": 0, "time": 0}, "50": {"count": 5, "ownAmount": 23, "time": 0}, "51": {"count": 5, "ownAmount": 582, "time": 0}, "52": {"count": 5, "ownAmount": 878, "time": 0}, "53": {"count": 5, "ownAmount": 1000, "time": 0}, "54": {"count": 5, "ownAmount": -111, "time": 0}, "55": {"count": 5, "ownAmount": 1221, "time": 0}, "56": {"count": 9, "ownAmount": 0, "time": 0}, "57": {"count": 9, "ownAmount": 102, "time": 0}, "58": {"count": 9, "ownAmount": 646, "time": 0}, "59": {"count": 9, "ownAmount": 975, "time": 0}, "60": {"count": 9, "ownAmount": 1000, "time": 0}, "61": {"count": 9, "ownAmount": -133, "time": 0}, "62": {"count": 9, "ownAmount": 1090, "time": 0}, "63": {"count": 11, "ownAmount": 0, "time": 0}, "64": {"count": 11, "ownAmount": 158, "time": 0}, "65": {"count": 11, "ownAmount": 549, "time": 0}, "66": {"count": 11, "ownAmount": 777, "time": 0}, "67": {"count": 11, "ownAmount": 1000, "time": 0}, "68": {"count": 11, "ownAmount": -64, "time": 0}, "69": {"count": 11, "ownAmount": 1229, "time": 0}, "70": {"count": -3, "ownAmount": 0, "time": 0}, "71": {"count": -3, "ownAmount": 138, "time": 0}, "72": {"count": -3, "ownAmount": 713, "time": 0}, "73": {"count": -3, "ownAmount": 858, "time": 0}, "74": {"count": -3, "ownAmount": 1000, "time": 0}, "75": {"count": -3, "ownAmount": -171, "time": 0}, "76": {"count": -3, "ownAmount": 1246, "time": 0}, "77": {"count": 15, "ownAmount": 0, "time": 0}, "78": {"count": 15, "ownAmount": 26, "time": 0}, "79": {"count": 15, "ownAmount": 727, "time": 0}, "80": {"count": 15, "ownAmount": 775, "time": 0}, "81": {"count": 15, "ownAmount": 1000, "time": 0}, "82": {"count": 15, "ownAmount": -15, "time": 0}, "83": {"count": 15, "ownAmount": 1126, "time": 0}, "84": {"count": 0, "ownAmount": 0, "time": 7851}, "85": {"count": 0, "ownAmount": 10, "time": 7851}, "86": {"count": 0, "ownAmount": 696, "time": 7851}, "87": {"count": 0, "ownAmount": 923, "time": 7851}, "88": {"count": 0, "ownAmount": 1000, "time": 7851}, "89": {"count": 0, "ownAmount": -163, "time": 7851}, "90": {"count": 0, "ownAmount": 1232, "time": 7851}, "91": {"count": 2, "ownAmount": 0, "time": 7851}, "92": {"count": 2, "ownAmount": 59, "time": 7851}, "93": {"count": 2, "ownAmount": 586, "time": 7851}, "94": {"count": 2, "ownAmount": 912, "time": 7851}, "95": {"count": 2, "ownAmount": 1000, "time": 7851}, "96": {"count": 2, "ownAmount": -192, "time": 7851}, "97": {"count": 2, "ownAmount": 1187, "time": 7851}, "98": {"count": 6, "ownAmount": 0, "time": 7851}, "99": {"count": 6, "ownAmount": 193, "time": 7851}, "100": {"count": 6, "ownAmount": 724, "time": 7851}, "101": {"count": 6, "ownAmount": 820, "time": 7851}, "102": {"count": 6, "ownAmount": 1000, "time": 7851}, "103": {"count": 6, "ownAmount": -225, "time": 7851}, "104": {"count": 6, "ownAmount": 1166, "time": 7851}, "105": {"count": 9, "ownAmount": 0, "time": 7851}, "106": {"count": 9, "ownAmount": 245, "time": 7851}, "107": {"count": 9, "ownAmount": 672, "time": 7851}, "108": {"count": 9, "ownAmount": 936, "time": 7851}, "109": {"count": 9, "ownAmount": 1000, "time": 7851}, "110": {"count": 9, "ownAmount": -236, "time": 7851}, "111": {"count": 9, "ownAmount": 1079, "time": 7851}, "112": {"count": 11, "ownAmount": 0, "time": 7851}, "113": {"count": 11, "ownAmount": 36, "time": 7851}, "114": {"count": 11, "ownAmount": 532, "time": 7851}, "115": {"count": 11, "ownAmount": 943, "time": 7851}, "116": {"count": 11, "ownAmount": 1000, "time": 7851}, "117": {"count": 11, "ownAmount": -50, "time": 7851}, "118": {"count": 11, "ownAmount": 1173, "time": 7851}, "119": {"count": -2, "ownAmount": 0, "time": 7851}, "120": {"count": -2, "ownAmount": 212, "time": 7851}, "121": {"count": -2, "ownAmount": 570, "time": 7851}, "122": {"count": -2, "ownAmount": 800, "time": 7851}, "123": {"count": -2, "ownAmount": 1000, "time": 7851}, "124": {"count": -2, "ownAmount": -16, "time": 7851}, "125": {"count": -2, "ownAmount": 1124, "time": 7851}, "126": {"count": 11, "ownAmount": 0, "time": 7851}, "127": {"count": 11, "ownAmount": 223, "time": 7851}, "128": {"count": 11, "ownAmount": 527, "time": 7851}, "129": {"count": 11, "ownAmount": 767, "time": 7851}, "130": {"count": 11, "ownAmount": 1000, "time": 7851}, "131": {"count": 11, "ownAmount": -170, "time": 7851}, "132": {"count": 11, "ownAmount": 1073, "time": 7851}, "133": {"count": 0, "ownAmount": 0, "time": 31110}, "134": {"count": 0, "ownAmount": 59, "time": 31110}, "135": {"count": 0, "ownAmount": 654, "time": 31110}, "136": {"count": 0, "ownAmount": 828, "time": 31110}, "137": {"count": 0, "ownAmount": 1000, "time": 31110}, "138": {"count": 0, "ownAmount": -13, "time": 31110}, "139": {"count": 0, "ownAmount": 1205, "time": 31110}, "140": {"count": 2, "ownAmount": 0, "time": 31110}, "141": {"count": 2, "ownAmount": 188, "time": 31110}, "142": {"count": 2, "ownAmount": 737, "time": 31110}, "143": {"count": 2, "ownAmount": 795, "time": 31110}, "144": {"count": 2, "ownAmount": 1000, "time": 31110}, "145": {"count": 2, "ownAmount": -81, "time": 31110}, "146": {"count": 2, "ownAmount": 1089, "time": 31110}, "147": {"count": 5, "ownAmount": 0, "time": 31110}, "148": {"count": 5, "ownAmount": 73, "time": 31110}, "149": {"count": 5, "ownAmount": 501, "time": 31110}, "150": {"count": 5, "ownAmount": 966, "time": 31110}, "151": {"count": 5, "ownAmount": 1000, "time": 31110}, "152": {"count": 5, "ownAmount": -219, "time": 31110}, "153": {"count": 5, "ownAmount": 1084, "time": 31110}, "154": {"count": 8, "ownAmount": 0, "time": 31110}, "155": {"count": 8, "ownAmount": 174, "time": 31110}, "156": {"count": 8, "ownAmount": 652, "time": 31110}, "157": {"count": 8, "ownAmount": 902, "time": 31110}, "158": {"count": 8, "ownAmount": 1000, "time": 31110}, "159": {"count": 8, "ownAmount": -70, "time": 31110}, "160": {"count": 8, "ownAmount": 1093, "time": 31110}, "161": {"count": 11, "ownAmount": 0, "time": 31110}, "162": {"count": 11, "ownAmount": 171, "time": 31110}, "163": {"count": 11, "ownAmount": 605, "time": 31110}, "164": {"count": 11, "ownAmount": 965, "time": 31110}, "165": {"count": 11, "ownAmount": 1000, "time": 31110}, "166": {"count": 11, "ownAmount": -151, "time": 31110}, "167": {"count": 11, "ownAmount": 1160, "time": 31110}, "168": {"count": 0, "ownAmount": 0, "time": 31110}, "169": {"count": 0, "ownAmount": 68, "time": 31110}, "170": {"count": 0, "ownAmount": 635, "time": 31110}, "171": {"count": 0, "ownAmount": 859, "time": 31110}, "172": {"count": 0, "ownAmount": 1000, "time": 31110}, "173": {"count": 0, "ownAmount": -12, "time": 31110}, "174": {"count": 0, "ownAmount": 1053, "time": 31110}, "175": {"count": 15, "ownAmount": 0, "time": 31110}, "176": {"count": 15, "ownAmount": 145, "time": 31110}, "177": {"count": 15, "ownAmount": 720, "time": 31110}, "178": {"count": 15, "ownAmount": 778, "time": 31110}, "179": {"count": 15, "ownAmount": 1000, "time": 31110}, "180": {"count": 15, "ownAmount": -97, "time": 31110}, "181": {"count": 15, "ownAmount": 1146, "time": 31110}, "182": {"count": 0, "ownAmount": 0, "time": 38663}, "183": {"count": 0, "ownAmount": 144, "time": 38663}, "184": {"count": 0, "ownAmount": 721, "time": 38663}, "185": {"count": 0, "ownAmount": 940, "time": 38663}, "186": {"count": 0, "ownAmount": 1000, "time": 38663}, "187": {"count": 0, "ownAmount": -46, "time": 38663}, "188": {"count": 0, "ownAmount": 1011, "time": 38663}, "189": {"count": 4, "ownAmount": 0, "time": 38663}, "190": {"count": 4, "ownAmount": 149, "time": 38663}, "191": {"count": 4, "ownAmount": 733, "time": 38663}, "192": {"count": 4, "ownAmount": 837, "time": 38663}, "193": {"count": 4, "ownAmount": 1000, "time": 38663}, "194": {"count": 4, "ownAmount": -21, "time": 38663}, "195": {"count": 4, "ownAmount": 1007, "time": 38663}, "196": {"count": 5, "ownAmount": 0, "time": 38663}, "197": {"count": 5, "ownAmount": 26, "time": 38663}, "198": {"count": 5, "ownAmount": 706, "time": 38663}, "199": {"count": 5, "ownAmount": 876, "time": 38663}, "200": {"count": 5, "ownAmount": 1000, "time": 38663}, "201": {"count": 5, "ownAmount": -139, "time": 38663}, "202": {"count": 5, "ownAmount": 1235, "time": 38663}, "203": {"count": 6, "ownAmount": 0, "time": 38663}, "204": {"count": 6, "ownAmount": 214, "time": 38663}, "205": {"count": 6, "ownAmount": 556, "time": 38663}, "206": {"count": 6, "ownAmount": 781, "time": 38663}, "207": {"count": 6, "ownAmount": 1000, "time": 38663}, "208": {"count": 6, "ownAmount": -40, "time": 38663}, "209": {"count": 6, "ownAmount": 1166, "time": 38663}, "210": {"count": 11, "ownAmount": 0, "time": 38663}, "211": {"count": 11, "ownAmount": 61, "time": 38663}, "212": {"count": 11, "ownAmount": 561, "time": 38663}, "213": {"count": 11, "ownAmount": 764, "time": 38663}, "214": {"count": 11, "ownAmount": 1000, "time": 38663}, "215": {"count": 11, "ownAmount": -129, "time": 38663}, "216": {"count": 11, "ownAmount": 1111, "time": 38663}, "217": {"count": -1, "ownAmount": 0, "time": 38663}, "218": {"count": -1, "ownAmount": 154, "time": 38663}, "219": {"count": -1, "ownAmount": 653, "time": 38663}, "220": {"count": -1, "ownAmount": 992, "time": 38663}, "221": {"count": -1, "ownAmount": 1000, "time": 38663}, "222": {"count": -1, "ownAmount": -97, "time": 38663}, "223": {"count": -1, "ownAmount": 1204, "time": 38663}, "224": {"count": 11, "ownAmount": 0, "time": 38663}, "225": {"count": 11, "ownAmount": 67, "time": 38663}, "226": {"count": 11, "ownAmount": 749, "time": 38663}, "227": {"count": 11, "ownAmount": 877, "time": 38663}, "228": {"count": 11, "ownAmount": 1000, "time": 38663}, "229": {"count": 11, "ownAmount": -209, "time": 38663}, "230": {"count": 11, "ownAmount": 1239, "time": 38663}, "231": {"count": 0, "ownAmount": 0, "time": 44640}, "232": {"count": 0, "ownAmount": 82, "time": 44640}, "233": {"count": 0, "ownAmount": 548, "time": 44640}, "234": {"count": 0, "ownAmount": 953, "time": 44640}, "235": {"count": 0, "ownAmount": 1000, "time": 44640}, "236": {"count": 0, "ownAmount": -77, "time": 44640}, "237": {"count": 0, "ownAmount": 1217, "time": 44640}, "238": {"count": 3, "ownAmount": 0, "time": 44640}, "239": {"count": 3, "ownAmount": 247, "time": 44640}, "240": {"count": 3, "ownAmount": 707, "time": 44640}, "241": {"count": 3, "ownAmount": 938, "time": 44640}, "242": {"count": 3, "ownAmount": 1000, "time": 44640}, "243": {"count": 3, "ownAmount": -175, "time": 44640}, "244": {"count": 3, "ownAmount": 1078, "time": 44640}, "245": {"count": 7, "ownAmount": 0, "time": 44640}, "246": {"count": 7, "ownAmount": 168, "time": 44640}, "247": {"count": 7, "ownAmount": 588, "time": 44640}, "248": {"count": 7, "ownAmount": 893, "time": 44640}, "249": {"count": 7, "ownAmount": 1000, "time": 44640}, "250": {"count": 7, "ownAmount": -140, "time": 44640}, "251": {"count": 7, "ownAmount": 1191, "time": 44640}, "252": {"count": 6, "ownAmount": 0, "time": 44640}, "253": {"count": 6, "ownAmount": 149, "time": 44640}, "254": {"count": 6, "ownAmount": 720, "time": 44640}, "255": {"count": 6, "ownAmount": 810, "time": 44640}, "256": {"count": 6, "ownAmount": 1000, "time": 44640}, "257": {"count": 6, "ownAmount": -198, "time": 44640}, "258": {"count": 6, "ownAmount": 1185, "time": 44640}, "259": {"count": 11, "ownAmount": 0, "time": 44640}, "260": {"count": 11, "ownAmount": 235, "time": 44640}, "261": {"count": 11, "ownAmount": 628, "time": 44640}, "262": {"count": 11, "ownAmount": 822, "time": 44640}, "263": {"count": 11, "ownAmount": 1000, "time": 44640}, "264": {"count": 11, "ownAmount": -159, "time": 44640}, "265": {"count": 11, "ownAmount": 1141, "time": 44640}, "266": {"count": -3, "ownAmount": 0, "time": 44640}, "267": {"count": -3, "ownAmount": 69, "time": 44640}, "268": {"count": -3, "ownAmount": 514, "time": 44640}, "269": {"count": -3, "ownAmount": 778, "time": 44640}, "270": {"count": -3, "ownAmount": 1000, "time": 44640}, "271": {"count": -3, "ownAmount": -138, "time": 44640}, "272": {"count": -3, "ownAmount": 1084, "time": 44640}, "273": {"count": 13, "ownAmount": 0, "time": 44640}, "274": {"count": 13, "ownAmount": 195, "time": 44640}, "275": {"count": 13, "ownAmount": 528, "time": 44640}, "276": {"count": 13, "ownAmount": 865, "time": 44640}, "277": {"count": 13, "ownAmount": 1000, "time": 44640}, "278": {"count": 13, "ownAmount": -11, "time": 44640}, "279": {"count": 13, "ownAmount": 1096, "time": 44640}, "280": {"count": 0, "ownAmount": 0, "time": -10799}, "281": {"count": 0, "ownAmount": 233, "time": -10799}, "282": {"count": 0, "ownAmount": 656, "time": -10799}, "283": {"count": 0, "ownAmount": 832, "time": -10799}, "284": {"count": 0, "ownAmount": 1000, "time": -10799}, "285": {"count": 0, "ownAmount": -85, "time": -10799}, "286": {"count": 0, "ownAmount": 1188, "time": -10799}, "287": {"count": 2, "ownAmount": 0, "time": -10799}, "288": {"count": 2, "ownAmount": 39, "time": -10799}, "289": {"count": 2, "ownAmount": 580, "time": -10799}, "290": {"count": 2, "ownAmount": 993, "time": -10799}, "291": {"count": 2, "ownAmount": 1000, "time": -10799}, "292": {"count": 2, "ownAmount": -124, "time": -10799}, "293": {"count": 2, "ownAmount": 1203, "time": -10799}, "294": {"count": 9, "ownAmount": 0, "time": -10799}, "295": {"count": 9, "ownAmount": 151, "time": -10799}, "296": {"count": 9, "ownAmount": 725, "time": -10799}, "297": {"count": 9, "ownAmount": 945, "time": -10799}, "298": {"count": 9, "ownAmount": 1000, "time": -10799}, "299": {"count": 9, "ownAmount": -173, "time": -10799}, "300": {"count": 9, "ownAmount": 1164, "time": -10799}, "301": {"count": 8, "ownAmount": 0, "time": -10799}, "302": {"count": 8, "ownAmount": 225, "time": -10799}, "303": {"count": 8, "ownAmount": 749, "time": -10799}, "304": {"count": 8, "ownAmount": 988, "time": -10799}, "305": {"count": 8, "ownAmount": 1000, "time": -10799}, "306": {"count": 8, "ownAmount": -3, "time": -10799}, "307": {"count": 8, "ownAmount": 1240, "time": -10799}, "308": {"count": 11, "ownAmount": 0, "time": -10799}, "309": {"count": 11, "ownAmount": 48, "time": -10799}, "310": {"count": 11, "ownAmount": 523, "time": -10799}, "311": {"count": 11, "ownAmount": 993, "time": -10799}, "312": {"count": 11, "ownAmount": 1000, "time": -10799}, "313": {"count": 11, "ownAmount": -101, "time": -10799}, "314": {"count": 11, "ownAmount": 1162, "time": -10799}, "315": {"count": 0, "ownAmount": 0, "time": -10799}, "316": {"count": 0, "ownAmount": 56, "time": -10799}, "317": {"count": 0, "ownAmount": 647, "time": -10799}, "318": {"count": 0, "ownAmount": 895, "time": -10799}, "319": {"count": 0, "ownAmount": 1000, "time": -10799}, "320": {"count": 0, "ownAmount": -174, "time": -10799}, "321": {"count": 0, "ownAmount": 1074, "time": -10799}, "322": {"count": 11, "ownAmount": 0, "time": -10799}, "323": {"count": 11, "ownAmount": 152, "time": -10799}, "324": {"count": 11, "ownAmount": 711, "time": -10799}, "325": {"count": 11, "ownAmount": 869, "time": -10799}, "326": {"count": 11, "ownAmount": 1000, "time": -10799}, "327": {"count": 11, "ownAmount": -157, "time": -10799}, "328": {"count": 11, "ownAmount": 1157, "time": -10799}, "329": {"count": 0, "ownAmount": 0, "time": 52762}, "330": {"count": 0, "ownAmount": 243, "time": 52762}, "331": {"count": 0, "ownAmount": 595, "time": 52762}, "332": {"count": 0, "ownAmount": 757, "time": 52762}, "333": {"count": 0, "ownAmount": 1000, "time": 52762}, "334": {"count": 0, "ownAmount": -188, "time": 52762}, "335": {"count": 0, "ownAmount": 1011, "time": 52762}, "336": {"count": 4, "ownAmount": 0, "time": 52762}, "337": {"count": 4, "ownAmount": 83, "time": 52762}, "338": {"count": 4, "ownAmount": 702, "time": 52762}, "339": {"count": 4, "ownAmount": 873, "time": 52762}, "340": {"count": 4, "ownAmount": 1000, "time": 52762}, "341": {"count": 4, "ownAmount": -208, "time": 52762}, "342": {"count": 4, "ownAmount": 1011, "time": 52762}, "343": {"count": 5, "ownAmount": 0, "time": 52762}, "344": {"count": 5, "ownAmount": 125, "time": 52762}, "345": {"count": 5, "ownAmount": 699, "time": 52762}, "346": {"count": 5, "ownAmount": 811, "time": 52762}, "347": {"count": 5, "ownAmount": 1000, "time": 52762}, "348": {"count": 5, "ownAmount": -212, "time": 52762}, "349": {"count": 5, "ownAmount": 1080, "time": 52762}, "350": {"count": 9, "ownAmount": 0, "time": 52762}, "351": {"count": 9, "ownAmount": 67, "time": 52762}, "352": {"count": 9, "ownAmount": 653, "time": 52762}, "353": {"count": 9, "ownAmount": 834, "time": 52762}, "354": {"count": 9, "ownAmount": 1000, "time": 52762}, "355": {"count": 9, "ownAmount": -248, "time": 52762}, "356": {"count": 9, "ownAmount": 1022, "time": 52762}, "357": {"count": 11, "ownAmount": 0, "time": 52762}, "358": {"count": 11, "ownAmount": 190, "time": 52762}, "359": {"count": 11, "ownAmount": 659, "time": 52762}, "360": {"count": 11, "ownAmount": 975, "time": 52762}, "361": {"count": 11, "ownAmount": 1000, "time": 52762}, "362": {"count": 11, "ownAmount": -66, "time": 52762}, "363": {"count": 11, "ownAmount": 1174, "time": 52762}, "364": {"count": -2, "ownAmount": 0, "time": 52762}, "365": {"count": -2, "ownAmount": 139, "time": 52762}, "366": {"count": -2, "ownAmount": 504, "time": 52762}, "367": {"count": -2, "ownAmount": 991, "time": 52762}, "368": {"count": -2, "ownAmount": 1000, "time": 52762}, "369": {"count": -2, "ownAmount": -219, "time": 52762}, "370": {"count": 1, "ownAmount": 0, "time": 52}, "371": {"count": 1, "ownAmount": 0, "time": 117}, "372": {"count": 1, "ownAmount": 0, "time": 170}, "373": {"count": 1, "ownAmount": 0, "time": 263}, "374": {"count": 1, "ownAmount": 0, "time": 37029}, "375": {"count": 1, "ownAmount": 130, "time": 27}, "376": {"count": 1, "ownAmount": 130, "time": 66}, "377": {"count": 1, "ownAmount": 130, "time": 170}, "378": {"count": 1, "ownAmount": 130, "time": 245}, "379": {"count": 1, "ownAmount": 130, "time": 32948}, "380": {"count": 2, "ownAmount": 0, "time": 3}, "381": {"count": 2, "ownAmount": 0, "time": 63}, "382": {"count": 2, "ownAmount": 0, "time": 121}, "383": {"count": 2, "ownAmount": 0, "time": 283}, "384": {"count": 2, "ownAmount": 0, "time": 41644}, "385": {"count": 2, "ownAmount": 726, "time": 7}, "386": {"count": 2, "ownAmount": 726, "time": 96}, "387": {"count": 2, "ownAmount": 726, "time": 139}, "388": {"count": 2, "ownAmount": 726, "time": 221}, "389": {"count": 2, "ownAmount": 726, "time": 12785}, "390": {"count": 3, "ownAmount": 0, "time": 60}, "391": {"count": 3, "ownAmount": 0, "time": 116}, "392": {"count": 3, "ownAmount": 0, "time": 146}, "393": {"count": 3, "ownAmount": 0, "time": 193}, "394": {"count": 3, "ownAmount": 0, "time": 41212}, "395": {"count": 3, "ownAmount": 81, "time": 53}, "396": {"count": 3, "ownAmount": 81, "time": 84}, "397": {"count": 3, "ownAmount": 81, "time": 127}, "398": {"count": 3, "ownAmount": 81, "time": 246}, "399": {"count": 3, "ownAmount": 81, "time": 27047}, "400": {"count": 4, "ownAmount": 0, "time": 18}, "401": {"count": 4, "ownAmount": 0, "time": 62}, "402": {"count": 4, "ownAmount": 0, "time": 156}, "403": {"count": 4, "ownAmount": 0, "time": 273}, "404": {"count": 4, "ownAmount": 0, "time": 41976}, "405": {"count": 4, "ownAmount": 386, "time": 31}, "406": {"count": 4, "ownAmount": 386, "time": 70}, "407": {"count": 4, "ownAmount": 386, "time": 140}, "408": {"count": 4, "ownAmount": 386, "time": 282}, "409": {"count": 4, "ownAmount": 386, "time": 29118}, "410": {"count": 5, "ownAmount": 0, "time": 53}, "411": {"count": 5, "ownAmount": 0, "time": 104}, "412": {"count": 5, "ownAmount": 0, "time": 165}, "413": {"count": 5, "ownAmount": 0, "time": 292}, "414": {"count": 5, "ownAmount": 0, "time": 15534}, "415": {"count": 5, "ownAmount": 384, "time": 47}, "416": {"count": 5, "ownAmount": 384, "time": 96}, "417": {"count": 5, "ownAmount": 384, "time": 141}, "418": {"count": 5, "ownAmount": 384, "time": 201}, "419": {"count": 5, "ownAmount": 384, "time": 23147}, "420": {"count": 6, "ownAmount": 0, "time": 11}, "421": {"count": 6, "ownAmount": 0, "time": 82}, "422": {"count": 6, "ownAmount": 0, "time": 144}, "423": {"count": 6, "ownAmount": 0, "time": 226}, "424": {"count": 6, "ownAmount": 0, "time": 39795}, "425": {"count": 6, "ownAmount": 994, "time": 30}, "426": {"count": 6, "ownAmount": 994, "time": 103}, "427": {"count": 6, "ownAmount": 994, "time": 166}, "428": {"count": 6, "ownAmount": 994, "time": 220}, "429": {"count": 6, "ownAmount": 994, "time": 36178}, "430": {"count": 7, "ownAmount": 0, "time": 13}, "431": {"count": 7, "ownAmount": 0, "time": 74}, "432": {"count": 7, "ownAmount": 0, "time": 171}, "433": {"count": 7, "ownAmount": 0, "time": 268}, "434": {"count": 7, "ownAmount": 0, "time": 13899}, "435": {"count": 7, "ownAmount": 686, "time": 8}, "436": {"count": 7, "ownAmount": 686, "time": 84}, "437": {"count": 7, "ownAmount": 686, "time": 170}, "438": {"count": 7, "ownAmount": 686, "time": 256}, "439": {"count": 7, "ownAmount": 686, "time": 30748}, "440": {"count": 7, "ownAmount": 265, "time": 125}, "441": {"count": 7, "ownAmount": 265, "time": 266}}';
		$data = json_decode($jsonData);
		$arr = [];
		foreach ($data as $index => $value) {
//			var_dump($index);
//			var_dump($value);
			$phoneInfo = new PhoneInfo($value->ownAmount, $value->count, $value->time);
			$arr[] = [
				'id' => $index,
				'count' => $value->count,
				'ownAmount' => $value->ownAmount,
				'time'      => $value->time,
				'needPayAmount' => round($phoneInfo->getNeedPayAmouont(), 2),
				'expert'    => round($phoneInfo->getNeedPayAmouont(), 2),
				'pass'      => "Yes"
			];
		}
//		var_dump(json_encode($arr));
		return json_encode($arr);
	}

	function testResult(Request $request) {
		$lastYearAmount = $request->get('lastYearAmount');
		$mins = $request->get('mins');
		$notPayTime = $request->get('notPayTime');
		$phoneInfo = new PhoneInfo($lastYearAmount, $notPayTime, $mins);
		if ($phoneInfo->getNeedPayAmouont() == -1) {
			return [
				'msg' => 'fail'
			];
		}
		return [
			'msg' => 'success',
			'amount' => $phoneInfo->getNeedPayAmouont(),
			'times' => $phoneInfo->notPayTimes,
			'mins'  => $phoneInfo->mins,
			'lastYear' => $phoneInfo->lastYearAmount,
			'interest' => $phoneInfo->getInterest()
		];
	}
 }
